{"identifier":{"url":"doc:\/\/Env\/documentation\/Env\/Env(scope:)","interfaceLanguage":"swift"},"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"attribute","text":"@attached"},{"kind":"text","text":"(member, names: named(Keys), named(Defaults), named(init)) "},{"kind":"attribute","text":"@attached"},{"kind":"text","text":"(extension, conformances: "},{"kind":"typeIdentifier","preciseIdentifier":"s:s8SendableP","text":"Sendable"},{"kind":"text","text":") "},{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"Env"},{"kind":"text","text":"("},{"kind":"externalParam","text":"scope"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"? = nil)"}],"languages":["swift"],"platforms":["macOS"]}]},{"parameters":[{"content":[{"inlineContent":[{"text":"環境変数のスコープ（プレフィックス）。省略時はルートレベル","type":"text"}],"type":"paragraph"}],"name":"scope"}],"kind":"parameters"},{"kind":"content","content":[{"type":"heading","text":"Overview","anchor":"overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"このマクロを構造体に適用すると、以下が自動生成されます:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"init(config: ConfigReader)"},{"type":"text","text":" イニシャライザ"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"各プロパティのKeys enum（ConfigKey型）"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"各プロパティのDefaults enum"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"Sendable"},{"type":"text","text":" プロトコル準拠"}],"type":"paragraph"}]}]},{"type":"heading","text":"基本的な使用例","anchor":"%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B","level":2},{"type":"codeListing","code":["@Env","struct GCPConfig {","    @Value(\"gcp.project.id\", default: \"my-project\")","    var projectId: String","","    @Value(\"firebase.emulator\", default: false)","    var useEmulator: Bool","}","","\/\/ 使用","let config = AppConfig.makeReader()","let gcp = GCPConfig(config: config)","print(gcp.projectId)  \/\/ 環境変数 GCP_PROJECT_ID または \"my-project\""],"syntax":"swift"},{"type":"heading","text":"スコープ付きの使用例","anchor":"%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97%E4%BB%98%E3%81%8D%E3%81%AE%E4%BD%BF%E7%94%A8%E4%BE%8B","level":2},{"type":"codeListing","code":["@Env(scope: \"emulator\")","struct EmulatorConfig {","    @Value(\"firestore.host\", default: \"localhost\")","    var firestoreHost: String","","    @Value(\"firestore.port\", default: 8090)","    var firestorePort: Int","}","","\/\/ 使用（emulatorスコープが自動適用）","let config = AppConfig.makeReader()","let emulator = EmulatorConfig(config: config)","\/\/ 環境変数 EMULATOR_FIRESTORE_HOST, EMULATOR_FIRESTORE_PORT を読み取り"],"syntax":"swift"}]}],"kind":"symbol","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/env\/env(scope:)"]}],"hierarchy":{"paths":[["doc:\/\/Env\/documentation\/Env"]]},"abstract":[{"text":"環境変数から型安全に値を読み取る構造体を定義するマクロ","type":"text"}],"schemaVersion":{"patch":0,"minor":3,"major":0},"sections":[],"metadata":{"fragments":[{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Env","kind":"identifier"},{"text":"(","kind":"text"},{"text":"scope","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":"?)","kind":"text"}],"externalID":"s:3EnvAA5scopeySSSg_tcfm","modules":[{"name":"Env"}],"roleHeading":"Macro","role":"symbol","title":"Env(scope:)","symbolKind":"macro"},"references":{"doc://Env/documentation/Env/Env(scope:)":{"kind":"symbol","abstract":[{"type":"text","text":"環境変数から型安全に値を読み取る構造体を定義するマクロ"}],"fragments":[{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Env","kind":"identifier"},{"text":"(","kind":"text"},{"text":"scope","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":"?)","kind":"text"}],"type":"topic","title":"Env(scope:)","role":"symbol","identifier":"doc:\/\/Env\/documentation\/Env\/Env(scope:)","url":"\/documentation\/env\/env(scope:)"},"doc://Env/documentation/Env":{"identifier":"doc:\/\/Env\/documentation\/Env","type":"topic","abstract":[{"type":"text","text":"Swiftマクロによる環境変数設定の宣言的アクセス。"}],"url":"\/documentation\/env","role":"collection","title":"Env","kind":"symbol"}}}