{"metadata":{"roleHeading":"Macro","modules":[{"name":"Env"}],"symbolKind":"macro","title":"Env(scope:)","externalID":"s:3EnvAA5scopeySSSg_tcfm","fragments":[{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Env","kind":"identifier"},{"text":"(","kind":"text"},{"text":"scope","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":"?)","kind":"text"}],"role":"symbol"},"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"@attached","kind":"attribute"},{"text":"(member, names: named(Keys), named(Defaults), named(init)) ","kind":"text"},{"text":"@attached","kind":"attribute"},{"text":"(extension, conformances: ","kind":"text"},{"preciseIdentifier":"s:3Env0A12ConfigurableP","text":"EnvConfigurable","kind":"typeIdentifier","identifier":"doc:\/\/Env\/documentation\/Env\/EnvConfigurable"},{"text":") ","kind":"text"},{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Env","kind":"identifier"},{"text":"(","kind":"text"},{"text":"scope","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":"? = nil)","kind":"text"}],"platforms":["macOS"],"languages":["swift"]}]},{"kind":"parameters","parameters":[{"name":"scope","content":[{"inlineContent":[{"type":"text","text":"環境変数のスコープ（プレフィックス）。省略時はルートレベル"}],"type":"paragraph"}]}]},{"kind":"content","content":[{"anchor":"overview","type":"heading","level":2,"text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"このマクロを構造体に適用すると、以下が自動生成されます:"}]},{"items":[{"content":[{"inlineContent":[{"type":"codeVoice","code":"init(config: ConfigReader)"},{"text":" イニシャライザ","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"各プロパティのKeys enum（ConfigKey型）"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"各プロパティのDefaults enum"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"EnvConfigurable"},{"text":" プロトコル準拠（","type":"text"},{"type":"codeVoice","code":"Sendable"},{"text":" を含む）","type":"text"}]}]}],"type":"unorderedList"},{"anchor":"%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B","type":"heading","level":2,"text":"基本的な使用例"},{"syntax":"swift","type":"codeListing","code":["@Env","struct GCPConfig {","    @Value(\"gcp.project.id\", default: \"my-project\")","    var projectId: String","","    @Value(\"firebase.emulator\", default: false)","    var useEmulator: Bool","}","","\/\/ 使用","let config = AppConfig.makeReader()","let gcp = GCPConfig(config: config)","print(gcp.projectId)  \/\/ 環境変数 GCP_PROJECT_ID または \"my-project\""]},{"anchor":"%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97%E4%BB%98%E3%81%8D%E3%81%AE%E4%BD%BF%E7%94%A8%E4%BE%8B","type":"heading","level":2,"text":"スコープ付きの使用例"},{"syntax":"swift","type":"codeListing","code":["@Env(scope: \"emulator\")","struct EmulatorConfig {","    @Value(\"firestore.host\", default: \"localhost\")","    var firestoreHost: String","","    @Value(\"firestore.port\", default: 8090)","    var firestorePort: Int","}","","\/\/ 使用（emulatorスコープが自動適用）","let config = AppConfig.makeReader()","let emulator = EmulatorConfig(config: config)","\/\/ 環境変数 EMULATOR_FIRESTORE_HOST, EMULATOR_FIRESTORE_PORT を読み取り"]}]}],"variants":[{"paths":["\/documentation\/env\/env(scope:)"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"kind":"symbol","schemaVersion":{"minor":3,"major":0,"patch":0},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Env\/documentation\/Env\/Env(scope:)"},"hierarchy":{"paths":[["doc:\/\/Env\/documentation\/Env"]]},"abstract":[{"type":"text","text":"環境変数から型安全に値を読み取る構造体を定義するマクロ"}],"references":{"doc://Env/documentation/Env/Env(scope:)":{"identifier":"doc:\/\/Env\/documentation\/Env\/Env(scope:)","role":"symbol","title":"Env(scope:)","abstract":[{"text":"環境変数から型安全に値を読み取る構造体を定義するマクロ","type":"text"}],"kind":"symbol","type":"topic","url":"\/documentation\/env\/env(scope:)","fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"Env"},{"kind":"text","text":"("},{"kind":"externalParam","text":"scope"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?)"}]},"doc://Env/documentation/Env":{"kind":"symbol","role":"collection","type":"topic","identifier":"doc:\/\/Env\/documentation\/Env","abstract":[{"type":"text","text":"Swiftマクロによる環境変数設定の宣言的アクセス。"}],"url":"\/documentation\/env","title":"Env"},"doc://Env/documentation/Env/EnvConfigurable":{"type":"topic","abstract":[{"text":"環境変数から初期化可能な型を表すプロトコル","type":"text"}],"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"EnvConfigurable"}],"role":"symbol","title":"EnvConfigurable","url":"\/documentation\/env\/envconfigurable","kind":"symbol","identifier":"doc:\/\/Env\/documentation\/Env\/EnvConfigurable","navigatorTitle":[{"kind":"identifier","text":"EnvConfigurable"}]}}}