{"schemaVersion":{"minor":3,"major":0,"patch":0},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/env\/env(scope:)"]}],"kind":"symbol","identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Env\/documentation\/Env\/Env(scope:)"},"abstract":[{"type":"text","text":"環境変数から型安全に値を読み取る構造体を定義するマクロ"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"text":"@attached","kind":"attribute"},{"text":"(member, names: named(Keys), named(Defaults), named(init)) ","kind":"text"},{"text":"@attached","kind":"attribute"},{"text":"(extension, conformances: ","kind":"text"},{"text":"EnvConfigurable","kind":"typeIdentifier","preciseIdentifier":"s:3Env0A12ConfigurableP","identifier":"doc:\/\/Env\/documentation\/Env\/EnvConfigurable"},{"text":") ","kind":"text"},{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Env","kind":"identifier"},{"text":"(","kind":"text"},{"text":"scope","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":"? = nil)","kind":"text"}],"platforms":["macOS"]}]},{"parameters":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"環境変数のスコープ（プレフィックス）。省略時はルートレベル"}]}],"name":"scope"}],"kind":"parameters"},{"kind":"content","content":[{"type":"heading","text":"Overview","anchor":"overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"このマクロを構造体に適用すると、以下が自動生成されます:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"init(config: ConfigReader)"},{"type":"text","text":" イニシャライザ"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"各プロパティのKeys enum（ConfigKey型）","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"各プロパティのDefaults enum"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"EnvConfigurable"},{"text":" プロトコル準拠（","type":"text"},{"type":"codeVoice","code":"Sendable"},{"text":" を含む）","type":"text"}]}]}]},{"type":"heading","text":"基本的な使用例","anchor":"%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B","level":2},{"type":"codeListing","syntax":"swift","code":["@Env","struct GCPConfig {","    @Value(\"gcp.project.id\", default: \"my-project\")","    var projectId: String","","    @Value(\"firebase.emulator\", default: false)","    var useEmulator: Bool","}","","\/\/ 使用","let config = AppConfig.makeReader()","let gcp = GCPConfig(config: config)","print(gcp.projectId)  \/\/ 環境変数 GCP_PROJECT_ID または \"my-project\""]},{"type":"heading","text":"スコープ付きの使用例","anchor":"%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97%E4%BB%98%E3%81%8D%E3%81%AE%E4%BD%BF%E7%94%A8%E4%BE%8B","level":2},{"type":"codeListing","syntax":"swift","code":["@Env(scope: \"emulator\")","struct EmulatorConfig {","    @Value(\"firestore.host\", default: \"localhost\")","    var firestoreHost: String","","    @Value(\"firestore.port\", default: 8090)","    var firestorePort: Int","}","","\/\/ 使用（emulatorスコープが自動適用）","let config = AppConfig.makeReader()","let emulator = EmulatorConfig(config: config)","\/\/ 環境変数 EMULATOR_FIRESTORE_HOST, EMULATOR_FIRESTORE_PORT を読み取り"]}]}],"sections":[],"hierarchy":{"paths":[["doc:\/\/Env\/documentation\/Env"]]},"metadata":{"externalID":"s:3EnvAA5scopeySSSg_tcfm","title":"Env(scope:)","role":"symbol","roleHeading":"Macro","symbolKind":"macro","modules":[{"name":"Env"}],"fragments":[{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Env","kind":"identifier"},{"text":"(","kind":"text"},{"text":"scope","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":"?)","kind":"text"}]},"references":{"doc://Env/documentation/Env":{"kind":"symbol","url":"\/documentation\/env","type":"topic","abstract":[{"type":"text","text":"Swiftマクロによる環境変数設定の宣言的アクセス。"}],"identifier":"doc:\/\/Env\/documentation\/Env","role":"collection","title":"Env"},"doc://Env/documentation/Env/EnvConfigurable":{"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"EnvConfigurable","kind":"identifier"}],"type":"topic","identifier":"doc:\/\/Env\/documentation\/Env\/EnvConfigurable","title":"EnvConfigurable","kind":"symbol","url":"\/documentation\/env\/envconfigurable","abstract":[{"text":"環境変数から初期化可能な型を表すプロトコル","type":"text"}],"navigatorTitle":[{"text":"EnvConfigurable","kind":"identifier"}],"role":"symbol"},"doc://Env/documentation/Env/Env(scope:)":{"type":"topic","title":"Env(scope:)","fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"Env"},{"kind":"text","text":"("},{"kind":"externalParam","text":"scope"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?)"}],"identifier":"doc:\/\/Env\/documentation\/Env\/Env(scope:)","url":"\/documentation\/env\/env(scope:)","abstract":[{"type":"text","text":"環境変数から型安全に値を読み取る構造体を定義するマクロ"}],"role":"symbol","kind":"symbol"}}}