{"hierarchy":{"paths":[["doc:\/\/Env\/documentation\/Env"]]},"identifier":{"url":"doc:\/\/Env\/documentation\/Env\/Env(scope:)","interfaceLanguage":"swift"},"sections":[],"schemaVersion":{"patch":0,"major":0,"minor":3},"metadata":{"roleHeading":"Macro","modules":[{"name":"Env"}],"role":"symbol","fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"Env"},{"kind":"text","text":"("},{"kind":"externalParam","text":"scope"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?)"}],"externalID":"s:3EnvAA5scopeySSSg_tcfm","title":"Env(scope:)","symbolKind":"macro"},"kind":"symbol","abstract":[{"text":"環境変数から型安全に値を読み取る構造体を定義するマクロ","type":"text"}],"variants":[{"paths":["\/documentation\/env\/env(scope:)"],"traits":[{"interfaceLanguage":"swift"}]}],"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"tokens":[{"text":"@attached","kind":"attribute"},{"text":"(member, names: named(Keys), named(Defaults), named(init)) ","kind":"text"},{"text":"@attached","kind":"attribute"},{"text":"(extension, conformances: ","kind":"text"},{"preciseIdentifier":"s:3Env0A12ConfigurableP","text":"EnvConfigurable","kind":"typeIdentifier","identifier":"doc:\/\/Env\/documentation\/Env\/EnvConfigurable"},{"text":") ","kind":"text"},{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Env","kind":"identifier"},{"text":"(","kind":"text"},{"text":"scope","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":"? = nil)","kind":"text"}],"languages":["swift"]}]},{"kind":"parameters","parameters":[{"content":[{"type":"paragraph","inlineContent":[{"text":"環境変数のスコープ（プレフィックス）。省略時はルートレベル","type":"text"}]}],"name":"scope"}]},{"kind":"content","content":[{"type":"heading","text":"Overview","level":2,"anchor":"overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"このマクロを構造体に適用すると、以下が自動生成されます:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"init(config: ConfigReader)"},{"type":"text","text":" イニシャライザ"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"各プロパティのKeys enum（ConfigKey型）"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"各プロパティのDefaults enum"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"EnvConfigurable","type":"codeVoice"},{"text":" プロトコル準拠（","type":"text"},{"code":"Sendable","type":"codeVoice"},{"text":" を含む）","type":"text"}]}]}]},{"type":"heading","text":"基本的な使用例","level":2,"anchor":"%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B"},{"type":"codeListing","syntax":"swift","code":["@Env","struct GCPConfig {","    @Value(\"gcp.project.id\", default: \"my-project\")","    var projectId: String","","    @Value(\"firebase.emulator\", default: false)","    var useEmulator: Bool","}","","\/\/ 使用","let config = AppConfig.makeReader()","let gcp = GCPConfig(config: config)","print(gcp.projectId)  \/\/ 環境変数 GCP_PROJECT_ID または \"my-project\""]},{"type":"heading","text":"スコープ付きの使用例","level":2,"anchor":"%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97%E4%BB%98%E3%81%8D%E3%81%AE%E4%BD%BF%E7%94%A8%E4%BE%8B"},{"type":"codeListing","syntax":"swift","code":["@Env(scope: \"emulator\")","struct EmulatorConfig {","    @Value(\"firestore.host\", default: \"localhost\")","    var firestoreHost: String","","    @Value(\"firestore.port\", default: 8090)","    var firestorePort: Int","}","","\/\/ 使用（emulatorスコープが自動適用）","let config = AppConfig.makeReader()","let emulator = EmulatorConfig(config: config)","\/\/ 環境変数 EMULATOR_FIRESTORE_HOST, EMULATOR_FIRESTORE_PORT を読み取り"]}]}],"references":{"doc://Env/documentation/Env":{"abstract":[{"type":"text","text":"Swiftマクロによる環境変数設定の宣言的アクセス。"}],"kind":"symbol","type":"topic","url":"\/documentation\/env","identifier":"doc:\/\/Env\/documentation\/Env","role":"collection","title":"Env"},"doc://Env/documentation/Env/EnvConfigurable":{"abstract":[{"text":"環境変数から初期化可能な型を表すプロトコル","type":"text"}],"kind":"symbol","type":"topic","url":"\/documentation\/env\/envconfigurable","identifier":"doc:\/\/Env\/documentation\/Env\/EnvConfigurable","role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"EnvConfigurable"}],"title":"EnvConfigurable","navigatorTitle":[{"kind":"identifier","text":"EnvConfigurable"}]},"doc://Env/documentation/Env/Env(scope:)":{"title":"Env(scope:)","url":"\/documentation\/env\/env(scope:)","kind":"symbol","identifier":"doc:\/\/Env\/documentation\/Env\/Env(scope:)","fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"Env"},{"kind":"text","text":"("},{"kind":"externalParam","text":"scope"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?)"}],"type":"topic","abstract":[{"text":"環境変数から型安全に値を読み取る構造体を定義するマクロ","type":"text"}],"role":"symbol"}}}