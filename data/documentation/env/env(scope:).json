{"hierarchy":{"paths":[["doc:\/\/Env\/documentation\/Env"]]},"sections":[],"kind":"symbol","schemaVersion":{"patch":0,"major":0,"minor":3},"metadata":{"roleHeading":"Macro","role":"symbol","externalID":"s:3EnvAA5scopeySSSg_tcfm","title":"Env(scope:)","symbolKind":"macro","fragments":[{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Env","kind":"identifier"},{"text":"(","kind":"text"},{"text":"scope","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":"?)","kind":"text"}],"modules":[{"name":"Env"}]},"abstract":[{"text":"環境変数から型安全に値を読み取る構造体を定義するマクロ","type":"text"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"@attached","kind":"attribute"},{"text":"(member, names: named(Keys), named(Defaults), named(init)) ","kind":"text"},{"text":"@attached","kind":"attribute"},{"text":"(extension, conformances: ","kind":"text"},{"text":"Sendable","kind":"typeIdentifier","preciseIdentifier":"s:s8SendableP"},{"text":") ","kind":"text"},{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Env","kind":"identifier"},{"text":"(","kind":"text"},{"text":"scope","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"? = nil)"}],"platforms":["macOS"],"languages":["swift"]}]},{"kind":"parameters","parameters":[{"name":"scope","content":[{"type":"paragraph","inlineContent":[{"text":"環境変数のスコープ（プレフィックス）。省略時はルートレベル","type":"text"}]}]}]},{"kind":"content","content":[{"type":"heading","anchor":"overview","level":2,"text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"このマクロを構造体に適用すると、以下が自動生成されます:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"init(config: ConfigReader)"},{"type":"text","text":" イニシャライザ"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"各プロパティのKeys enum（ConfigKey型）"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"各プロパティのDefaults enum"}]}]},{"content":[{"inlineContent":[{"code":"Sendable","type":"codeVoice"},{"text":" プロトコル準拠","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","anchor":"%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B","level":2,"text":"基本的な使用例"},{"type":"codeListing","syntax":"swift","code":["@Env","struct GCPConfig {","    @Value(\"gcp.project.id\", default: \"my-project\")","    var projectId: String","","    @Value(\"firebase.emulator\", default: false)","    var useEmulator: Bool","}","","\/\/ 使用","let config = AppConfig.makeReader()","let gcp = GCPConfig(config: config)","print(gcp.projectId)  \/\/ 環境変数 GCP_PROJECT_ID または \"my-project\""]},{"type":"heading","anchor":"%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97%E4%BB%98%E3%81%8D%E3%81%AE%E4%BD%BF%E7%94%A8%E4%BE%8B","level":2,"text":"スコープ付きの使用例"},{"type":"codeListing","syntax":"swift","code":["@Env(scope: \"emulator\")","struct EmulatorConfig {","    @Value(\"firestore.host\", default: \"localhost\")","    var firestoreHost: String","","    @Value(\"firestore.port\", default: 8090)","    var firestorePort: Int","}","","\/\/ 使用（emulatorスコープが自動適用）","let config = AppConfig.makeReader()","let emulator = EmulatorConfig(config: config)","\/\/ 環境変数 EMULATOR_FIRESTORE_HOST, EMULATOR_FIRESTORE_PORT を読み取り"]}]}],"variants":[{"paths":["\/documentation\/env\/env(scope:)"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Env\/documentation\/Env\/Env(scope:)","interfaceLanguage":"swift"},"references":{"doc://Env/documentation/Env/Env(scope:)":{"abstract":[{"type":"text","text":"環境変数から型安全に値を読み取る構造体を定義するマクロ"}],"kind":"symbol","type":"topic","fragments":[{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Env","kind":"identifier"},{"text":"(","kind":"text"},{"text":"scope","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":"?)","kind":"text"}],"identifier":"doc:\/\/Env\/documentation\/Env\/Env(scope:)","title":"Env(scope:)","url":"\/documentation\/env\/env(scope:)","role":"symbol"},"doc://Env/documentation/Env":{"role":"collection","type":"topic","url":"\/documentation\/env","identifier":"doc:\/\/Env\/documentation\/Env","title":"Env","abstract":[{"text":"Swiftマクロによる環境変数設定の宣言的アクセス。","type":"text"}],"kind":"symbol"}}}